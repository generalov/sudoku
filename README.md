# Решатель Sudoku


## Задача
```
Нужно сделать решатель судоку.
Программа должна в будущем позволять расширяться новыми опциональными правилами, 
например, нельзя иметь повторяющиеся цифры по диагонали, нельзя иметь повторяющиеся цифры в клетках, 
окрашенных одним цветом и т.п.

Вход:
Описание судоку: в одном из форматов txt, csv, json, xml. Форматы надо разработать самостоятельно

Выход:
Решение судоку, в указанном формате (txt, csv, json, xml)
```


## Решение

Программа предназначена для решения классических Sudoku 9x9 клеток со стандартными ограничениями 
(не должно быть одинаковых значений в строке, столбце и малых квадратах). 
В качестве исходных форматов принимается текстовый (txt) и OpenSudoku. Архитектурой предусмотрена возможность
добавлять другие форматы.


### Системные требования

Программа написана для python-2.7 и использует стороннюю библиотеку lxml. Тестировалась в OS Ubuntu-15.04.


### Установка

Установка в OS Linux осуществляется командой:
```
sudo python setup.py install
```
Так же есть возможность для запуска в виртуальном окружении (см. раздел "Разработка").

### Запуск

Решение задач из файла в формате txt, с выдачей результатов в этом же формате:
```
sudoku -i docs/examples/example.txt -o txt
```

Другие варианты:
```
sudoku -i docs/examples/example.txt -o sdk
sudoku -i docs/examples/gnome-sudoku_easy.opensudoku
python -msudoku -i docs/examples/gnome-sudoku_easy.opensudoku
```


## Разработка

### Установка в режиме разработки

Для установки в режиме разработки необходим virtualenv.

```
make dev
. env/bin/activate
```

### Варинаты расширения

Чтобы добавить новую вариацию игры с разным набором правил или форматов досок, нужно написать расширение для класса 
`sudoku.loaders.ClassicalSudoku.ClassicalSudoku` и зарегистрировать в игре.

Пользовательские ограничения на значения в клетках создаются реализацией интерфейса 
`sudoku.loaders.rules.AbstractRule.AbstractRule`.


### Запуск тестов

Дистрибутив поддерживает стандартные соглашения для запуска тестов:
```
python setup.py test
```

## Форматы

### Формат "txt"

Файл содержит список досок Sudoku. Каждая доска в отдельной строке. Значения клеток записываются друг за другом цифрами
от 1 до 9. Пустые клетки обозначаются цифрой 0. Пример файла: [docs/examples/example.txt](docs/examples/example.txt).


### Формат "OpenSudoku"

Формат с синтаксиом XML. Используется в игре gnome-sudoku. Пример файла: 
[docs/examples/gnome-sudoku_easy.opensudoku](docs/examples/gnome-sudoku_easy.opensudoku).


### Формат "sdk"

Файл содержит список досок Sudoku. Доски записывается в виде матрицы 9x9 с форматированием, упрощающим чтение. 
Значения клеток записываются цифрами от 1 до 9. Пустые клетки обозначаются цифрой 0 или пробелом. Пример:

```
;9x9
+-------+-------+-------+
| 7 6 2 | 1   9 | 4   3 | 
| 4 1 3 | 6 8 2 | 5 9 7 | 
| 8 5 9 | 4 7 3 | 1 2 6 | 
+-------+-------+-------+
| 5 4 1 | 3 9 6 | 2 7 8 | 
| 2 3 7 | 8 1 4 | 6 5 9 | 
| 6 9 8 | 5 2 7 | 3 4 1 | 
+-------+-------+-------+
| 9 7 5 | 2 3 1 | 8 6 4 | 
| 1 2 6 | 7 4 8 | 9 3 5 | 
| 3 8 4 | 9 6 5 | 7 1 2 | 
+-------+-------+-------+
```

Использованные ссылки:

* http://norvig.com/sudoku.html
* http://www.sudokuwiki.org/sudoku.htm